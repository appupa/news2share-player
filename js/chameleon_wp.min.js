(function(a){function g(a){a.preventDefault();var d=this;setTimeout(function(){d.select()},100)}function x(){window.prompt("Copy to clipboard: Ctrl+C",a(".chameleon-output").val())}function y(a){a.preventDefault()}function z(){a(this).removeClass("chameleon-error")}function A(){this.value=this.value.replace(/[^0-9\.|#|-]/g,"")}function m(){var c=a(this),d=c.val();d&&c.data("orig",d)}function n(){var c=a(this),d=c.val();d!==c.data("orig")&&p(d,a(this).parent().children(".chameleon-media"))}function q(){h? (f=window.send_to_editor,window.send_to_editor=r):(f=wp.media.editor.send.attachment,wp.media.editor.send.attachment=r);var c=a(this);s=c.hasClass("chameleon-addmedia")?c.hasClass("chameleon-upload")?k:t:k;u=c.hasClass("chameleon-upload");h?tb_show("","media-upload.php?type=image&amp;TB_iframe=true"):(wp.media.editor.open(c),a(".media-menu").children(":eq(1)").hide())}function r(c,d){var b,e;h?(b=a(c),b=b.attr("src")||b.attr("href"),tb_remove(),window.send_to_editor=f):(b=d.url,wp.media.editor.send.attachment= f);e=u?v:w;s.val(b);p(b,e)}function p(c,d){var b;b=c.split(".");b.length?(b=b[b.length-1],b="jpg"===b||"png"===b||"gif"===b||"mp4"===b?c:null):b=null;d.empty().hide();if(b){var e;-1!==b.search("mp4")?(e=a("<video />").attr("controls","controls").appendTo(d.show()),a("<source />").attr({type:"video/webm",src:b.split("mp4").join("webm")}).appendTo(e),a("<source />").attr({type:"video/mp4",src:b}).appendTo(e)):(j.addClass("chameleon-loading"),e=a("<img />").one("load",B).one("error",C).appendTo(d),e.attr("src", b))}}function B(){var c=a(this).unbind("error");j.removeClass("chameleon-loading");c.parent().show();var d=this.width||c.width(),b=this.height||c.height(),e=75<b?75/b:1;223<d*e&&(e=223/d);c.attr({width:d*e,height:b*e}).click(q)}function C(){j.removeClass("chameleon-loading");a(this).unbind("load")}function D(){var c=a("input[name=chameleon_responsive]:checked").val(),d=a("input[name=chameleon_autoplay]:checked").val(),b=a("input[name=chameleon_height]").val()||540,e=a("input[name=chameleon_width]").val()|| 960,g=a("input[name=chameleon_skin]:checked").val(),h=a("input[name=chameleon_poster]").val(),f=l.val();f?(a(".chameleon-generate").show(),a(".chameleon-clip").css("visibility","visible"),a(".chameleon-output").val('[chameleon_video autoplay="'+d+'" skin="'+g+'" responsive="'+c+'" width="'+e+'" height="'+b+'" video="'+f+'" poster="'+h+'" /]')):l.addClass("chameleon-error")}var l,f,u,s,j,k,t,h,v,w;a(document).ready(function(){var c={display:"none",visibility:"visible"};h=window.hasOwnProperty("send_to_editor"); j=a(".chameleon-multimedia");v=a(".chameleon-video-holder").css(c);w=a(".chameleon-poster-holder").css(c);l=a("input[name=chameleon_video]").focusin(z);k=a("input[name=chameleon_video]").val("").focusin(m).focusout(n);t=a("input[name=chameleon_poster]").val("").focusin(m).focusout(n);a(".chameleon-success").css(c);a(".chameleon-small").keyup(A);a(".chameleon-output").focusin(g);a(".chameleon-addmedia").click(q);a(".chameleon-submit").click(D);a(".chameleon-clipboard").click(x);a("#chameleon-shortcode").submit(y)})})(jQuery); function chameleonClipboard(){jQuery(".chameleon-success").stop(!0,!0).fadeIn(300,function(){var a=jQuery(this),g;clearTimeout(a.data("timer"));g=setTimeout(function(){a.fadeOut(300)},1500);a.data("timer",g)});return jQuery(".chameleon-output").val()};